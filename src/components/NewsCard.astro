---
import type { CollectionEntry } from 'astro:content';

interface Props {
  entry: CollectionEntry<'news'>;
}

const { entry } = Astro.props;
const toHref = (path: string) => `${import.meta.env.BASE_URL}${path.replace(/^\/+/, '')}`;
---

<article class="card news-card">
  <div class="news-meta">
    <span class="chip chip-soft">{entry.data.category}</span>
    <time datetime={entry.data.date}>{entry.data.date}</time>
  </div>
  <h3><a href={toHref(`/news/${entry.slug}/`)}>{entry.data.title}</a></h3>
  <p>{entry.data.excerpt}</p>
  <a class="text-link" href={toHref(`/news/${entry.slug}/`)}>詳しく見る</a>
</article>
